<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<script type="text/javascript" src="CanvasStar.js"></script>
<meta name="robots" content="index, follow">
<title>Protocol Layers in Biology — From Molecules to Systems | RD&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Life is not chaos — it runs on layered, negotiated protocols, from molecules to whole organisms.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/en/en/posts/mind/sparks/s3_2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.221b997692f80fbe0676864675503f4115e96e6c9886081eeb1fde590fe46fce.css" integrity="sha256-IhuZdpL4D74GdoZGdVA/QRXpbmyYhgge6x/eWQ/kb84=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://localhost:1313/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/img/Q.gif">
<link rel="apple-touch-icon" href="http://localhost:1313/img/Q.gif">
<link rel="mask-icon" href="http://localhost:1313/img/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/en/en/posts/mind/sparks/s3_2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel='stylesheet' href="https://fonts.googleapis.com/css?family=Ma Shan Zheng">

<link rel='stylesheet' href="https://fonts.googleapis.com/css?family=Hind Siliguri">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel='stylesheet' href='//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css'>
<meta property="og:url" content="http://localhost:1313/en/en/posts/mind/sparks/s3_2/">
  <meta property="og:site_name" content="RD&#39;s Blog">
  <meta property="og:title" content="Protocol Layers in Biology — From Molecules to Systems">
  <meta property="og:description" content="Life is not chaos — it runs on layered, negotiated protocols, from molecules to whole organisms.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="en">
    <meta property="article:published_time" content="2024-05-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-05-26T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Protocol Layers in Biology — From Molecules to Systems">
<meta name="twitter:description" content="Life is not chaos — it runs on layered, negotiated protocols, from molecules to whole organisms.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Welcome to My Blog",
      "item": "http://localhost:1313/en/en/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "BLOG",
      "item": "http://localhost:1313/en/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "MIND",
      "item": "http://localhost:1313/en/en/posts/mind/"
    }, 
    {
      "@type": "ListItem",
      "position":  4 ,
      "name": "SPARKS",
      "item": "http://localhost:1313/en/en/posts/mind/sparks/"
    }, 
    {
      "@type": "ListItem",
      "position":  5 ,
      "name": "Protocol Layers in Biology — From Molecules to Systems",
      "item": "http://localhost:1313/en/en/posts/mind/sparks/s3_2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Protocol Layers in Biology — From Molecules to Systems",
  "name": "Protocol Layers in Biology — From Molecules to Systems",
  "description": "Life is not chaos — it runs on layered, negotiated protocols, from molecules to whole organisms.",
  "keywords": [
    
  ],
  "articleBody": "Protocol Layers in Biology — From Molecules to Systems Introduction Biological communication is not a chaotic mess of molecules; it follows layered protocols, much like human network protocols.\nThese layers organize communication and decision-making from molecular interactions to whole-organism responses.\nHere, we explore four main protocol layers in biology, using plants as a model system:\nMolecular Layer — Protocols that Govern Molecular Interactions Cellular Layer — Protocols for Intercellular Communication Network Layer — Protocols that Coordinate Conflicting Signals System Layer — Protocols for Organism-Wide Coordination Biological communication is not a chaotic mess of molecules; it follows layered protocols, much like human network protocols.\nThese layers organize communication and decision-making from molecular interactions to whole-organism responses.\nExplore each layer to see how life negotiates complexity.\n1. Molecular Layer — Local Interactions and Direct Negotiation The molecular layer handles direct molecular communication — protein-protein interactions, ligand-receptor binding, scaffold complex assembly.\nThese are the basic negotiation units of biological systems.\nExample: MAPK Cascade in Plants Scaffold proteins (like RACK1) assemble kinases (MAPKKKs, MAPKKs, MAPKs) into signaling complexes. Interaction depends on domains (e.g., SH2, WD40) and PTMs (e.g., phosphorylation). Protocol flow: Recognition: Kinases bind scaffold — domain compatibility. Negotiation: Activation via phosphorylation — modification state matters. Execution: Signal relayed downstream via activated MAPK. Error Handling: Phosphatases remove signals; chaperones assist folding. Failure Example: Mutated MAPK domains → fail to bind scaffold — protocol collapse, no signaling. Improper PTMs → miscommunication, wrong pathways activated. 2. Cellular Layer — Receptors, Co-receptors, and Complex Formation The cellular layer manages how cells interpret external signals, primarily via receptor-ligand systems.\nExample: PRR (Pattern Recognition Receptor) Systems in Plant Immunity FLS2 receptor binds bacterial flagellin (flg22), triggering immune signaling. BAK1 co-receptor joins only upon proper ligand binding — two-step handshake. Protocol flow: Recognition: FLS2 detects flg22. Negotiation: BAK1 recruited if FLS2 is correctly bound. Execution: Phosphorylation cascades (BIK1, MAPKs). Error Handling: BIR proteins prevent false activation. Failure Example: Effectors like AvrPto block FLS2 — failed handshake, immune evasion. FLS2 misfolding — no BAK1 engagement, signaling aborted. 3. Network Layer — Multi-Pathway Coordination and Signal Integration The network layer coordinates multiple signals within a cell, integrating conflicting or cooperative signals to decide response priorities.\nExample: JA-SA Crosstalk in Defense and Growth JA (Jasmonic Acid) and SA (Salicylic Acid) regulate defense, but often mutually antagonistic. Cells use priority signaling depending on threat type (e.g., SA for biotrophs, JA for necrotrophs). Protocol Logic: Recognition: Detect pathogen type via PRRs. Negotiation: Balance JA/SA based on context. Execution: Select appropriate downstream pathways (defense gene activation). Error Handling: Negative regulators (e.g., NPR1 for SA) suppress alternative pathway. Failure Example: Failed prioritization: Overactive JA suppresses SA → biotroph infection. Autoimmunity: Misregulated JA-SA balance → growth inhibition. 4. System Layer — Long-Distance Communication and Systemic Coordination The system layer manages whole-organism responses, transmitting signals across tissues for coordinated action.\nExample: Systemic Acquired Resistance (SAR) After local pathogen detection, systemic signals (e.g., methyl salicylate) prime distant tissues for defense. Layers involve hormone transport, vascular signaling, and chromatin priming. Protocol Flow: Recognition: Local PRR activation. Negotiation: Signal amplification via SA. Execution: Systemic signal dispatch (MeSA), distal tissue priming. Memory: Epigenetic marks on defense genes for faster future responses. Failure Example: Disrupted signal transport: SAR fails, systemic tissues vulnerable. Impaired chromatin response: No long-term immune memory. Why Protocol Layers Matter Thinking of biology as layered protocols helps explain:\nHow signals are selected, processed, and executed. Why certain signals fail to propagate or are suppressed. How complexity is managed from molecules to whole organisms. Protocols organize life — making sense of molecular chaos through structured, layered negotiation.\n",
  "wordCount" : "595",
  "inLanguage": "en",
  "datePublished": "2024-05-26T00:00:00Z",
  "dateModified": "2024-05-26T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/en/en/posts/mind/sparks/s3_2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "RD's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/img/Q.gif"
    }
  }
}
</script>
    <script type="text/javascript" src=""></script>





<head>
  <link rel="stylesheet" href="/css/custom.css">
</head>

<link rel="icon" type="image/png" sizes="32x32" href="/img/rd4.png">
<link rel="icon" type="image/png" sizes="16x16" href="/img/rd4.png">
<link rel="apple-touch-icon" href="/img/rd4.png">
<link rel="shortcut icon" href="/img/rd4.png">

</head>





<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/en/" accesskey="h" title="RD&#39;s Blog (Alt + H)">
                <img src="http://localhost:1313/img/rd2.JPEG" alt="" aria-label="logo"
                    height="35">RD&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/zh/" title="中文(简体)"
                            aria-label="中文(简体)">中文(简体)</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/en/search" title=" (Alt &#43; /)" accesskey=/>
                    <span><i class="fa fa-search"></i></span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/" title="">
                    <span><i class="fa fa-home"></i></span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/en/posts" title="BLOGs">
                    <span>BLOGs</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/tags" title="TAGs">
                    <span>TAGs</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/archives/" title="ARCHIVEs">
                    <span>ARCHIVEs</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/en/links" title="LINKs">
                    <span>LINKs</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">
<article class="post-single">

  
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/en/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/en/en/posts/">BLOG</a></div>
    <h1 class="post-title">
      Protocol Layers in Biology — From Molecules to Systems 
    </h1>

    
    <div class="post-meta">
      
      <i class="fa fa-calendar"></i>&nbsp;2024/05/26

      
        &nbsp;|&nbsp;<i class="fa fa-clock"></i>&nbsp;3 min

      


    </div>
  </header>

   

  <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#protocol-layers-in-biology--from-molecules-to-systems" aria-label="Protocol Layers in Biology — From Molecules to Systems">Protocol Layers in Biology — From Molecules to Systems</a><ul>
                        
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#1-molecular-layer--local-interactions-and-direct-negotiation" aria-label="1. Molecular Layer — Local Interactions and Direct Negotiation">1. Molecular Layer — Local Interactions and Direct Negotiation</a><ul>
                        
                <li>
                    <a href="#example-mapk-cascade-in-plants" aria-label="Example: MAPK Cascade in Plants">Example: MAPK Cascade in Plants</a></li>
                <li>
                    <a href="#failure-example" aria-label="Failure Example:">Failure Example:</a></li></ul>
                </li>
                <li>
                    <a href="#2-cellular-layer--receptors-co-receptors-and-complex-formation" aria-label="2. Cellular Layer — Receptors, Co-receptors, and Complex Formation">2. Cellular Layer — Receptors, Co-receptors, and Complex Formation</a><ul>
                        
                <li>
                    <a href="#example-prr-pattern-recognition-receptor-systems-in-plant-immunity" aria-label="Example: PRR (Pattern Recognition Receptor) Systems in Plant Immunity">Example: PRR (Pattern Recognition Receptor) Systems in Plant Immunity</a></li>
                <li>
                    <a href="#failure-example-1" aria-label="Failure Example:">Failure Example:</a></li></ul>
                </li>
                <li>
                    <a href="#3-network-layer--multi-pathway-coordination-and-signal-integration" aria-label="3. Network Layer — Multi-Pathway Coordination and Signal Integration">3. Network Layer — Multi-Pathway Coordination and Signal Integration</a><ul>
                        
                <li>
                    <a href="#example-ja-sa-crosstalk-in-defense-and-growth" aria-label="Example: JA-SA Crosstalk in Defense and Growth">Example: JA-SA Crosstalk in Defense and Growth</a></li>
                <li>
                    <a href="#protocol-logic" aria-label="Protocol Logic:">Protocol Logic:</a></li>
                <li>
                    <a href="#failure-example-2" aria-label="Failure Example:">Failure Example:</a></li></ul>
                </li>
                <li>
                    <a href="#4-system-layer--long-distance-communication-and-systemic-coordination" aria-label="4. System Layer — Long-Distance Communication and Systemic Coordination">4. System Layer — Long-Distance Communication and Systemic Coordination</a><ul>
                        
                <li>
                    <a href="#example-systemic-acquired-resistance-sar" aria-label="Example: Systemic Acquired Resistance (SAR)">Example: Systemic Acquired Resistance (SAR)</a></li>
                <li>
                    <a href="#protocol-flow" aria-label="Protocol Flow:">Protocol Flow:</a></li>
                <li>
                    <a href="#failure-example-3" aria-label="Failure Example:">Failure Example:</a></li></ul>
                </li>
                <li>
                    <a href="#why-protocol-layers-matter" aria-label="Why Protocol Layers Matter">Why Protocol Layers Matter</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>


  
    <div class="post-content"><h1 id="protocol-layers-in-biology--from-molecules-to-systems">Protocol Layers in Biology — From Molecules to Systems<a hidden class="anchor" aria-hidden="true" href="#protocol-layers-in-biology--from-molecules-to-systems">#</a></h1>
<h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>Biological communication is not a chaotic mess of molecules; it follows <strong>layered protocols</strong>, much like human network protocols.<br>
These layers organize communication and decision-making <strong>from molecular interactions to whole-organism responses</strong>.<br>
Here, we explore <strong>four main protocol layers in biology</strong>, using <strong>plants</strong> as a model system:</p>
<ul>
<li><a href="/en/posts/mind/sparks/S3_21/">Molecular Layer — Protocols that Govern Molecular Interactions</a></li>
<li><a href="/en/posts/mind/sparks/S3_22/">Cellular Layer — Protocols for Intercellular Communication</a></li>
<li><a href="/en/posts/mind/sparks/S3_23/">Network Layer — Protocols that Coordinate Conflicting Signals</a></li>
<li><a href="/en/posts/mind/sparks/S3_24/">System Layer — Protocols for Organism-Wide Coordination</a></li>
</ul>
<p>Biological communication is not a chaotic mess of molecules; it follows <strong>layered protocols</strong>, much like human network protocols.<br>
These layers organize communication and decision-making <strong>from molecular interactions to whole-organism responses</strong>.</p>
<p>Explore each layer to see how life negotiates complexity.</p>
<hr>
<h2 id="1-molecular-layer--local-interactions-and-direct-negotiation">1. Molecular Layer — Local Interactions and Direct Negotiation<a hidden class="anchor" aria-hidden="true" href="#1-molecular-layer--local-interactions-and-direct-negotiation">#</a></h2>
<p>The <strong>molecular layer</strong> handles <strong>direct molecular communication</strong> — protein-protein interactions, ligand-receptor binding, scaffold complex assembly.<br>
These are <strong>the basic negotiation units</strong> of biological systems.</p>
<h3 id="example-mapk-cascade-in-plants">Example: MAPK Cascade in Plants<a hidden class="anchor" aria-hidden="true" href="#example-mapk-cascade-in-plants">#</a></h3>
<ul>
<li><strong>Scaffold proteins</strong> (like RACK1) assemble kinases (MAPKKKs, MAPKKs, MAPKs) into <strong>signaling complexes</strong>.</li>
<li>Interaction depends on <strong>domains</strong> (e.g., SH2, WD40) and <strong>PTMs</strong> (e.g., phosphorylation).</li>
<li><strong>Protocol flow</strong>:
<ol>
<li><strong>Recognition</strong>: Kinases bind scaffold — domain compatibility.</li>
<li><strong>Negotiation</strong>: Activation via phosphorylation — modification state matters.</li>
<li><strong>Execution</strong>: Signal relayed downstream via activated MAPK.</li>
<li><strong>Error Handling</strong>: Phosphatases remove signals; chaperones assist folding.</li>
</ol>
</li>
</ul>
<h3 id="failure-example">Failure Example:<a hidden class="anchor" aria-hidden="true" href="#failure-example">#</a></h3>
<ul>
<li><strong>Mutated MAPK domains</strong> → fail to bind scaffold — <strong>protocol collapse</strong>, no signaling.</li>
<li><strong>Improper PTMs</strong> → miscommunication, wrong pathways activated.</li>
</ul>
<hr>
<h2 id="2-cellular-layer--receptors-co-receptors-and-complex-formation">2. Cellular Layer — Receptors, Co-receptors, and Complex Formation<a hidden class="anchor" aria-hidden="true" href="#2-cellular-layer--receptors-co-receptors-and-complex-formation">#</a></h2>
<p>The <strong>cellular layer</strong> manages how <strong>cells interpret external signals</strong>, primarily via <strong>receptor-ligand systems</strong>.</p>
<h3 id="example-prr-pattern-recognition-receptor-systems-in-plant-immunity">Example: PRR (Pattern Recognition Receptor) Systems in Plant Immunity<a hidden class="anchor" aria-hidden="true" href="#example-prr-pattern-recognition-receptor-systems-in-plant-immunity">#</a></h3>
<ul>
<li><strong>FLS2 receptor</strong> binds bacterial flagellin (flg22), triggering immune signaling.</li>
<li><strong>BAK1 co-receptor</strong> joins only upon proper ligand binding — <strong>two-step handshake</strong>.</li>
<li><strong>Protocol flow</strong>:
<ol>
<li><strong>Recognition</strong>: FLS2 detects flg22.</li>
<li><strong>Negotiation</strong>: BAK1 recruited if FLS2 is correctly bound.</li>
<li><strong>Execution</strong>: Phosphorylation cascades (BIK1, MAPKs).</li>
<li><strong>Error Handling</strong>: BIR proteins prevent false activation.</li>
</ol>
</li>
</ul>
<h3 id="failure-example-1">Failure Example:<a hidden class="anchor" aria-hidden="true" href="#failure-example-1">#</a></h3>
<ul>
<li><strong>Effectors like AvrPto</strong> block FLS2 — <strong>failed handshake</strong>, immune evasion.</li>
<li><strong>FLS2 misfolding</strong> — no BAK1 engagement, signaling aborted.</li>
</ul>
<hr>
<h2 id="3-network-layer--multi-pathway-coordination-and-signal-integration">3. Network Layer — Multi-Pathway Coordination and Signal Integration<a hidden class="anchor" aria-hidden="true" href="#3-network-layer--multi-pathway-coordination-and-signal-integration">#</a></h2>
<p>The <strong>network layer</strong> coordinates <strong>multiple signals within a cell</strong>, integrating conflicting or cooperative signals to decide response priorities.</p>
<h3 id="example-ja-sa-crosstalk-in-defense-and-growth">Example: JA-SA Crosstalk in Defense and Growth<a hidden class="anchor" aria-hidden="true" href="#example-ja-sa-crosstalk-in-defense-and-growth">#</a></h3>
<ul>
<li>JA (Jasmonic Acid) and SA (Salicylic Acid) regulate defense, but often <strong>mutually antagonistic</strong>.</li>
<li>Cells use <strong>priority signaling</strong> depending on threat type (e.g., SA for biotrophs, JA for necrotrophs).</li>
</ul>
<h3 id="protocol-logic">Protocol Logic:<a hidden class="anchor" aria-hidden="true" href="#protocol-logic">#</a></h3>
<ol>
<li><strong>Recognition</strong>: Detect pathogen type via PRRs.</li>
<li><strong>Negotiation</strong>: Balance JA/SA based on context.</li>
<li><strong>Execution</strong>: Select appropriate downstream pathways (defense gene activation).</li>
<li><strong>Error Handling</strong>: Negative regulators (e.g., NPR1 for SA) suppress alternative pathway.</li>
</ol>
<h3 id="failure-example-2">Failure Example:<a hidden class="anchor" aria-hidden="true" href="#failure-example-2">#</a></h3>
<ul>
<li><strong>Failed prioritization</strong>: Overactive JA suppresses SA → biotroph infection.</li>
<li><strong>Autoimmunity</strong>: Misregulated JA-SA balance → growth inhibition.</li>
</ul>
<hr>
<h2 id="4-system-layer--long-distance-communication-and-systemic-coordination">4. System Layer — Long-Distance Communication and Systemic Coordination<a hidden class="anchor" aria-hidden="true" href="#4-system-layer--long-distance-communication-and-systemic-coordination">#</a></h2>
<p>The <strong>system layer</strong> manages <strong>whole-organism responses</strong>, transmitting signals across tissues for coordinated action.</p>
<h3 id="example-systemic-acquired-resistance-sar">Example: Systemic Acquired Resistance (SAR)<a hidden class="anchor" aria-hidden="true" href="#example-systemic-acquired-resistance-sar">#</a></h3>
<ul>
<li>After local pathogen detection, systemic signals (e.g., methyl salicylate) prime distant tissues for defense.</li>
<li>Layers involve <strong>hormone transport, vascular signaling</strong>, and <strong>chromatin priming</strong>.</li>
</ul>
<h3 id="protocol-flow">Protocol Flow:<a hidden class="anchor" aria-hidden="true" href="#protocol-flow">#</a></h3>
<ol>
<li><strong>Recognition</strong>: Local PRR activation.</li>
<li><strong>Negotiation</strong>: Signal amplification via SA.</li>
<li><strong>Execution</strong>: Systemic signal dispatch (MeSA), distal tissue priming.</li>
<li><strong>Memory</strong>: Epigenetic marks on defense genes for faster future responses.</li>
</ol>
<h3 id="failure-example-3">Failure Example:<a hidden class="anchor" aria-hidden="true" href="#failure-example-3">#</a></h3>
<ul>
<li><strong>Disrupted signal transport</strong>: SAR fails, systemic tissues vulnerable.</li>
<li><strong>Impaired chromatin response</strong>: No long-term immune memory.</li>
</ul>
<hr>
<h2 id="why-protocol-layers-matter">Why Protocol Layers Matter<a hidden class="anchor" aria-hidden="true" href="#why-protocol-layers-matter">#</a></h2>
<p>Thinking of biology as <strong>layered protocols</strong> helps explain:</p>
<ul>
<li><strong>How signals are selected, processed, and executed</strong>.</li>
<li><strong>Why certain signals fail to propagate or are suppressed</strong>.</li>
<li><strong>How complexity is managed</strong> from molecules to whole organisms.</li>
</ul>
<p>Protocols <strong>organize life</strong> — making sense of molecular chaos through structured, layered negotiation.</p>
<hr>


    </div>

  
  <footer class="post-footer">

    
    <ul class="post-tags">
    </ul>

    
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/en/en/posts/mind/sparks/s3_1/">
    <span class="title">« Prev</span>
    <br>
    <span>Life Runs on Protocols</span>
  </a>
  <a class="next" href="http://localhost:1313/en/posts/mind/sparks/S3_21/">
    <span class="title">Next »</span>
    <br>
    <span>Molecular Layer — How Proteins Negotiate</span>
  </a>
</nav>


    

  </footer>

  
  <div class="post-comment">
    
  </div>

</article>

    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="http://localhost:1313/en/">RD&#39;s Blog</a> 🌲🌴🌵🪻🎋🌷🌻🌵🐛🐸🫧🦩🐢 </span>

    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <span id="busuanzi_container">
        Visitors: <span id="busuanzi_value_site_uv"></span>
        Views: <span id="busuanzi_value_site_pv"></span>
    </span>
</footer>


<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            height: 100vh;
            background-color: (255,255,255);
        }
        canvas{
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }

    </style>
</head>
	<body>
		<canvas id="canvas"></canvas>
		<script type= "text/javascript" src="CanvasStar.js"></script>
		<script>
		window.addEventListener('load',()=>{
    var canvas = document.querySelector("#canvas");
    var ctx = canvas.getContext("2d");
    window.onresize=resizeCanvas;

    function resizeCanvas(){
       canvas.width=window.innerWidth;
       canvas.height=window.innerHeight;
    }

    resizeCanvas();
    canvas.style.cssText = `
    position: fixed;
    z-index: 1000;
    pointer-events: none;
    `
    
    var arr = [];
    var colours =["#ffffff", "#f2f2f2", "#ffff00", "#ff66cc", "#66ffff", "#00ffff", "#3399ff", "#cc99ff", "#99ff00", "#ff9900"];

    
    window.addEventListener('mousemove', e=>{

            arr.push({
                x:e.clientX,
                y:e.clientY,
                r:Math.random()*0.5+1.5,
                td:Math.random()*4-2,
                dx:Math.random()*2-1,
                dy:Math.random()*1+1,
                rot: Math.random()*90+90,
                color: colours[Math.floor(Math.random()*colours.length)]
            });

    })
    
    function star(x,y,r,l,rot){
       ctx.beginPath();
        for(let i=0;i<5;i++){
           ctx.lineTo(Math.cos((18 + i*72 -rot)*Math.PI/180)*r+x,
           -Math.sin((18 + i*72 - rot)*Math.PI/180)*r+y);
           ctx.lineTo(Math.cos((54+i*72-rot)*Math.PI/180)*l+x
               ,-Math.sin((54+i*72 -rot)*Math.PI/180)*l+y);
        }
        ctx.closePath();
    }
    
    function draw(){
        for(let i=0;i<arr.length;i++){
            let temp = arr[i];
            star(temp.x,temp.y,temp.r,temp.r*3,temp.rot);
            ctx.fillStyle = temp.color;
            ctx.strokeStyle = temp.color;
            ctx.lineWidth = 0.1;
            ctx.lineJoin = "round";
            ctx.fill();
            ctx.stroke();
        }
    }

    
    function update(){
        for(let i=0;i<arr.length;i++){
            arr[i].x += arr[i].dx;
            arr[i].y += arr[i].dy;
            arr[i].rot += arr[i].td;
            arr[i].r -= 0.015;
            if(arr[i].r<0){
                arr.splice(i,1);
            }
        }
    }


    setInterval(()=>{
        ctx.clearRect(0,0,canvas.width,canvas.height);
        draw();
        update();
    },20)
})

    </script>
	</body>
</html>

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            height: 100vh;
            background-color: (255,255,255);
        }
        canvas{
            position: fixed;
            top: 0;
            left: 0;
            z-index: -1;
        }

    </style>
</head>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .kuang{
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -10;
            background-image: transparent;
            }
        .bubble{
            position: absolute;
            border-radius: 50%;
            border: 2px solid #fff;
            box-shadow: inset 0 0 8px  #fff;
            animation: flutter 10s infinite;
            opacity: 0;
        }
        @keyframes flutter {
            0%{
                transform: translateX(0);
                bottom: -100px;
                opacity: 1;
            }
            50%{
                transform: translateX(100px);
                opacity: 0.5;
            }


            100%{
                transform: translateX(0px);
                bottom: 100%;
                opacity: 0;

            }
        }
        .bubble:nth-child(1){
            left: -10%;
            width: 50px;
            height: 50px;
            animation-duration: 9s;
            animation-delay: 0.1s;
        }
        .bubble:nth-child(2){
            left: 15%;
            width: 20px;
            height: 20px;
            animation-duration: 6s;
            animation-delay: 1.5s;

        }
        .bubble:nth-child(3){
            left: 20%;
            width: 60px;
            height: 60px;
            animation-duration: 10s;



        }
        .bubble:nth-child(4){
            left: 30%;
            width: 30px;
            height: 30px;
            animation-duration: 5.5s;
            animation-delay: 1.5s;

        }
        .bubble:nth-child(5){
            left: 40%x;
            width: 50px;
            height: 50px;
            animation-duration: 12s;



        }
        .bubble:nth-child(6){
            left: 50%;
            width: 20px;
            height: 20px;
            animation-duration: 6s;
            animation-delay: 1s;

        }
        .bubble:nth-child(7){
            left: 60%;
            width: 40px;
            height: 40px;
            animation-duration: 8s;
            animation-delay: 1s;

        }
        .bubble:nth-child(8){
            left: 65%;
            width: 60px;
            height: 60px;
            animation-duration: 15s;

        }
        .bubble:nth-child(9){
            left: 80%;
            width: 55px;
            height: 55px;
            animation-duration: 9s;
            animation-delay: 0.5s;

        }
        .bubble:nth-child(10){
            left: 100%;
            width: 40px;
            height: 40px;
            animation-duration: 12s;

        }
    </style>
</head>
<body>
    <div class="kuang">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>

</body>
</html>

<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APlayer Demo</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
</head>
<body>
    <div id="player1"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var ap = new APlayer({
                container: document.getElementById('player1'),
                fixed: true,
                autoplay: false,
                mini: true,
                theme: '#f8f4fc',
                loop: 'all',
                order: 'random',
                preload: 'auto',
                volume: 0.5,
                mutex: true,
                listFolded: false,
                listMaxHeight: '90px',
                lrcType: 0,
                audio: [
                    {
                        name: 'Powder Snow',
                        artist: 'piano',
                        url: '/music/whitealbum.mp3',
                        cover: '/img/whitealbum.png'
                    },
                    {
                        name: 'Old Memory',
                        artist: '三輪学',
                        url: '/music/oldmemory.mp3',
                        cover: '/img/oldmemory.png'  
                    },
                    {
                        name: 'M5',
                        artist: '三輪学',
                        url: '/music/M5.mp3',
                        cover: '/img/oldmemory.png'  
                    }
                ]
            });
        });
    </script>
</body>
</html>



<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner" style="display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px;">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
        <span id="read_progress" style="font-size: 10px; line-height: 1; margin: 0; padding: 0;"></span>
    </span>
</a>


<script>
document.addEventListener('scroll', function () {
    const readProgress = document.getElementById("read_progress");
    const scrollHeight = document.documentElement.scrollHeight;
    const clientHeight = document.documentElement.clientHeight;
    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
    readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
});
</script>


<script>
let menu = document.getElementById('menu');
if (menu) {
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }
}
</script>



<script>
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener("click", function (e) {
        e.preventDefault();
        const id = this.getAttribute("href").substr(1);
        const target = document.querySelector(`[id='${decodeURIComponent(id)}']`);
        if (!target) return;
        if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
            target.scrollIntoView({ behavior: "smooth" });
        } else {
            target.scrollIntoView();
        }
        if (id === "top") {
            history.replaceState(null, null, " ");
        } else {
            history.pushState(null, null, `#${id}`);
        }
    });
});
</script>


<script>
const mybutton = document.getElementById("top-link");
window.onscroll = function () {
    if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        mybutton.style.visibility = "visible";
        mybutton.style.opacity = "1";
    } else {
        mybutton.style.visibility = "hidden";
        mybutton.style.opacity = "0";
    }
};
</script>


<script>
document.getElementById("theme-toggle").addEventListener("click", () => {
    if (document.body.classList.contains("dark")) {
        document.body.classList.remove('dark');
        localStorage.setItem("pref-theme", 'light');
    } else {
        document.body.classList.add('dark');
        localStorage.setItem("pref-theme", 'dark');
    }
});
</script>


<script>
document.querySelectorAll('pre > code').forEach((codeblock) => {
    const container = codeblock.parentNode.parentNode;
    const copybutton = document.createElement('button');
    copybutton.classList.add('copy-code');
    copybutton.innerHTML = 'copy';

    function copyingDone() {
        copybutton.innerHTML = '🍄copied!';
        setTimeout(() => {
            copybutton.innerHTML = 'copy';
        }, 2000);
    }

    copybutton.addEventListener('click', () => {
        navigator.clipboard.writeText(codeblock.textContent).then(copyingDone);
    });

    if (container.classList.contains("highlight")) {
        container.appendChild(copybutton);
    } else if (container.parentNode.firstChild === container) {
        
    } else if (codeblock.closest("table")) {
        codeblock.closest("table").appendChild(copybutton);
    } else {
        codeblock.parentNode.appendChild(copybutton);
    }
});
</script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">


<script>
document.addEventListener("DOMContentLoaded", function() {
    let hour = new Date().getHours();
    let timezoneOffset = new Date().getTimezoneOffset() / 60; 
    let localHour = hour - timezoneOffset; 

    if (localHour >= 13 && localHour < 5) { 

        
        document.body.style.transform = "scaleX(-1)";
        document.body.style.transition = "all 2s ease-in-out";

        
        if (!localStorage.getItem("timeRiftAlert")) {
            alert("⚠ You have entered the TIME RIFT… Reality is shifting!");
            localStorage.setItem("timeRiftAlert", "true"); 
        }

        
        let clock = document.createElement("div");
        clock.id = "reverseClock";
        clock.style.position = "fixed";
        clock.style.bottom = "20px";
        clock.style.right = "20px";
        clock.style.background = "black";
        clock.style.color = "white";
        clock.style.padding = "10px";
        clock.style.fontSize = "20px";
        clock.style.fontFamily = "monospace";
        clock.style.borderRadius = "5px";
        document.body.appendChild(clock);

        let currentTime = new Date();
        function updateClock() {
            currentTime.setSeconds(currentTime.getSeconds() - 1); 
            clock.innerText = "⏳ " + currentTime.toLocaleTimeString();
        }
        setInterval(updateClock, 1000);

        
        function reverseText(element) {
            if (element.childNodes.length === 1 && element.childNodes[0].nodeType === 3) {
                element.innerText = element.innerText.split("").reverse().join("");
            } else {
                element.childNodes.forEach(reverseText);
            }
        }
        document.querySelectorAll("h1, h2, h3, p, a, span").forEach(reverseText);
    } else {
        localStorage.removeItem("timeRiftAlert"); 
    }
});
</script>



<div id="customToast" class="toast"></div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    let idleTime = 0;
    let warningTime = 300; 
    let reminderMessages = [
        "⏳ You've been here for 5 minutes. Time to stretch a little?",
        "☕ Maybe it's time for a coffee break!",
        "📖 Read something new? Or keep scrolling?",
        "🎮 Don't you have a game waiting to be played?",
        "🔄 Are you expecting an Easter egg?",
        "🌍 The world outside is just as exciting!",
        "⌛ Still doing okay?",
        "🤔 What are you thinking about?",
        "🚀 Maybe it's time to work on your next big idea!"
    ];

    function showToast(message) {
        let toast = document.getElementById("customToast");
        toast.innerText = message;
        toast.classList.add("show");
        setTimeout(() => { toast.classList.remove("show"); }, 5000);
    }

    
    setInterval(() => {
        idleTime++;

        
        if (idleTime === warningTime) {
            let message = reminderMessages[Math.floor(Math.random() * reminderMessages.length)];
            showToast(message);
        }
    }, 1000);

    
    function resetIdleTime() {
        idleTime = 0;
    }
    document.addEventListener("mousemove", resetIdleTime);
    document.addEventListener("keypress", resetIdleTime);
    document.addEventListener("click", resetIdleTime);
});
</script>


<style>
.toast {
    visibility: hidden;
    min-width: 250px;
    background-color: rgba(0, 0, 0, 0.8);
    color: white;
    text-align: center;
    padding: 12px;
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 8px;
    font-size: 14px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
    opacity: 0;
    transition: opacity 0.5s, visibility 0.5s;
}

.toast.show {
    visibility: visible;
    opacity: 1;
}
</style>










<script type="module" src="https://unpkg.com/@google/model-viewer"></script>

<div id="flower-container" style="position: absolute; top: 15px; left: 330px;">
    <button onclick="toggleFlowerViewer()">⋆✴︎˚｡⋆</button>
</div>


<div id="flower-fullscreen" style="display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: black; z-index: 9999;">
    <model-viewer
        id="flower-model"
        src="/models/space_boi.glb" //非常重要！！！！flower.glb
        alt="3D Flower"
        auto-rotate
        camera-controls
        ar
        shadow-intensity="1"
        style="width: 230vw; height: 230vh; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
    </model-viewer>
</div>

<script>
    let isDragging = false; 
    let hasDragged = false; 

    function toggleFlowerViewer() {
        let viewer = document.getElementById("flower-fullscreen");
        let modelViewer = document.getElementById("flower-model");

        if (viewer.style.display === "none") {
            viewer.style.display = "block";
            hasDragged = false;

            
            if (modelViewer.loaded) {
                forceAutoRotate(modelViewer);
            } else {
                modelViewer.addEventListener('load', () => {
                    forceAutoRotate(modelViewer);
                }, { once: true });
            }

        } else {
            viewer.style.display = "none";
        }
    }

    function forceAutoRotate(modelViewer) {
        modelViewer.removeAttribute("auto-rotate");
        setTimeout(() => modelViewer.setAttribute("auto-rotate", ""), 50);
    }

    let modelViewer = document.getElementById("flower-model");
    let fullscreenDiv = document.getElementById("flower-fullscreen");

    
    modelViewer.addEventListener("pointerdown", () => {
        isDragging = true;
        hasDragged = false;
    });

    modelViewer.addEventListener("pointermove", () => {
        if (isDragging) {
            hasDragged = true; 
        }
    });

    modelViewer.addEventListener("pointerup", () => {
        isDragging = false;
    });

    
    fullscreenDiv.addEventListener("click", function (event) {
        
        if (!hasDragged) {
            this.style.display = "none";
        }
        hasDragged = false; 
    });
</script>




<style>
  body {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
</style>

<script>
  
  document.addEventListener('contextmenu', function(e) {
    e.preventDefault();
  });

  
  document.addEventListener('copy', function(e) {
    e.preventDefault();
  });

  
  document.addEventListener('cut', function(e) {
    e.preventDefault();
  });

  
  document.addEventListener('selectstart', function(e) {
    e.preventDefault();
  });

  
  document.addEventListener('dragstart', function(e) {
    e.preventDefault();
  });
</script>




<a href="/en/traces/" class="breathing-flower" title="Click to breathe ✧">
  <img src="/img/breathdot.png" alt="breathing dot" />
</a>

<style>
  .breathing-flower {
    position: absolute;
    top: 1.0rem;
    left: 25rem;
    width: 36px;
    height: 36px;
    z-index: 999;
    pointer-events: auto;
    display: block;
    transition: transform 0.5s ease;
  }

  .breathing-flower img {
    width: 100%;
    height: 100%;
    animation: flowerBreathing 2.8s ease-in-out infinite;
    filter: drop-shadow(0 0 4px rgba(255, 220, 120, 0.3));
    transition: filter 0.3s ease, transform 0.4s ease;
    border-radius: 50%;
  }

  .breathing-flower:hover {
    transform: translateY(-4px) translateX(3px);  
  }

  .breathing-flower:hover img {
    filter: drop-shadow(0 0 10px rgba(255, 220, 120, 0.6));
    transform: scale(1.1);
  }

   
  @keyframes flowerBreathing {
    0%, 100% {
      transform: scale(1);
      opacity: 0.75;
    }
    50% {
      transform: scale(1.15);
      opacity: 1;
    }
  }

   
  .breathing-flower::after,
  .breathing-flower::before {
    content: '';
    position: absolute;
    top: 40%;
    left: 40%;
    width: 6px;
    height: 6px;
    background: rgba(255, 235, 150, 0.8);
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
  }

  .breathing-flower:hover::after {
    animation: pollen1 1.2s ease-out forwards;
  }

  .breathing-flower:hover::before {
    animation: pollen2 1.5s ease-out forwards;
  }

  @keyframes pollen1 {
    0% { transform: translate(0, 0); opacity: 1; }
    100% { transform: translate(-20px, -30px) scale(0.6); opacity: 0; }
  }

  @keyframes pollen2 {
    0% { transform: translate(0, 0); opacity: 1; }
    100% { transform: translate(18px, -25px) scale(0.6); opacity: 0; }
  }
</style>






<style>
 
button, .btn, .button, .blog-button {
  transition: all 0.3s ease;
}

button:hover, .btn:hover, .button:hover, .blog-button:hover {
  transform: scale(1.015);
  box-shadow: 0 0 6px rgba(180, 180, 200, 0.15);
}
</style>



<style>
.social-icons a {
  display: inline-block;
  margin: 0 0.5rem;
  opacity: 0.3;
  transform: scale(1);
  transition: all 0.3s ease;
  filter: brightness(1.6) grayscale(100%);
}

.social-icons a:hover {
  opacity: 1;
  transform: scale(1.12);
  filter: brightness(1) grayscale(0);
}

@keyframes fadeInOut {
  0% { opacity: 0; transform: translateY(10px); }
  20% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; }
  100% { opacity: 0; }
}

.fade-onload {
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease, transform 0.3s ease;
  animation: fadeInOut 4s ease-in-out 0.5s forwards;
}

.fade-container:hover .fade-onload,
.fade-onload:hover {
  opacity: 1 !important;
  pointer-events: auto;
  transform: scale(1.05);
  animation: none !important;
}
</style>





















<div class="pio-container" id="pio-container">
  <canvas id="pio"></canvas>
</div>


<style>
  .pio-container {
    position: fixed !important;
    bottom: 0 !important;
    right: 0 !important;
    z-index: 9999 !important;
    pointer-events: none !important;
  }

  #pio {
    position: relative !important;
    width: auto !important;
    height: auto !important;
    max-height: 100vh !important;
    max-width: 100vw !important;
    transform: scale(0.35) translate(13%, 5%) !important;  
    transform-origin: bottom right !important;
    pointer-events: none !important;
    display: block !important;
    z-index: 9999 !important;
  }
</style>


<script src="/live2d/jiaran/TweenLite.js"></script>
<script src="/live2d/jiaran/live2dcubismcore.min.js"></script>
<script src="/live2d/jiaran/pixi.min.js"></script>
<script src="/live2d/jiaran/cubism4.min.js"></script>
<script src="/live2d/jiaran/pio.js"></script>
<script src="/live2d/jiaran/pio_sdk4.js"></script>
<link href="/live2d/jiaran/pio.css" rel="stylesheet" type="text/css" />


<script>
  window.onload = function () {
    const initConfig = {
      mode: "fixed",
      hidden: false,
      tips: false,
      model: ["/live2d/jiaran/Diana/Diana.model3.json"],  
      content: {
      },
      night: "",
      onModelLoad: function (model) {
        
        console.log("嘉然加载完成~");
      }
    };

    window.pio_reference = new Paul_Pio(initConfig);
  };
</script>






<style>
.footprint {
  position: fixed;
  font-size: 1.2rem;
  pointer-events: none;
  opacity: 0.8;
  transform: translate(-50%, -50%);
  transition: opacity 2s ease-out;
  z-index: 9999;
  line-height: 1;
}
.footprint.fade {
  opacity: 0;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  let lastFootprintTime = 0;
  const interval = 150;

  function isDarkMode() {
    return document.body.classList.contains("dark");
  }

  document.addEventListener("mousemove", (e) => {
    const now = Date.now();
    if (now - lastFootprintTime < interval) return;
    lastFootprintTime = now;

    const foot = document.createElement("div");
    foot.textContent = "🐾"; 
    foot.className = "footprint";
    foot.style.left = `${e.clientX}px`;
    foot.style.top = `${e.clientY}px`;
    foot.style.color = isDarkMode()
      ? "rgba(180, 220, 255, 0.85)" 
      : "rgba(0, 0, 0, 0.4)";       

    document.body.appendChild(foot);
    requestAnimationFrame(() => foot.classList.add("fade"));
    setTimeout(() => foot.remove(), 2000);
  });
});
</script>





<script>
(function () {
  let detected = false;
  const threshold = 160;
  const originalBody = document.body.innerHTML;

  function isDevToolsOpen() {
    return window.outerWidth - window.innerWidth > threshold ||
           window.outerHeight - window.innerHeight > threshold;
  }

  function triggerFakeCrash() {
    if (!detected) {
      detected = true;
      document.body.innerHTML = `
        <div style="
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          background: #f9f9f9;
          color: #555;
          font-family: 'Georgia', serif;
          font-size: 1.2rem;
          line-height: 1.8;
          text-align: center;
          padding: 2em;
          transition: all 0.4s ease;
        ">
          <div style="max-width: 600px;">
            <p style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1em;">
              nonono, it’s TOO MUCH.
            </p>
            <p>
              so I crashed.<br/>
              probably reload the page ･◡･.
            </p>
            <p style="margin-top: 2em; font-size: 0.95rem; color: #999;">
              (you opened the dev tools. little things noticed  '༥' .)
            </p>
          </div>
        </div>`;
      console.warn("👀 DevTools opened — simulated crash triggered.");
    }
  }

  setInterval(() => {
    const element = new Image();
    Object.defineProperty(element, 'id', {
      get: function () {
        triggerFakeCrash();
      }
    });
    console.log('%c', element);

    if (isDevToolsOpen()) {
      triggerFakeCrash();
    }
  }, 1000);
})();
</script>



<script>
  (function () {
    let timeout;
    const timeoutDuration = 300000; 

    function redirectToSakura() {
      window.location.href = "/html/sakurarain.html";
    }

    function resetTimer() {
      clearTimeout(timeout);
      timeout = setTimeout(redirectToSakura, timeoutDuration);
    }

    resetTimer();

    ['mousemove', 'mousedown', 'keydown', 'scroll', 'touchstart'].forEach(evt =>
      window.addEventListener(evt, resetTimer)
    );
  })();
</script>
</body>

</html>
