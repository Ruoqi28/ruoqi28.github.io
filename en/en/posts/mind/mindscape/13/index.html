<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><script type=text/javascript src=CanvasStar.js></script><meta name=robots content="index, follow"><title>DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors | RD's Blog</title>
<meta name=keywords content="Kinase,Model,Activation,synthetic Biology,Structure"><meta name=description content="Notes on 2014 ACS paper introducing DFGmodel, a computational approach to predict kinase inactive structures for type-II inhibitor discovery. Includes insights on DFG-flip and kinase conformational analysis."><meta name=author content><link rel=canonical href=https://ruoqi28.github.io/en/en/posts/mind/mindscape/13/><link crossorigin=anonymous href=/assets/css/stylesheet.221b997692f80fbe0676864675503f4115e96e6c9886081eeb1fde590fe46fce.css integrity="sha256-IhuZdpL4D74GdoZGdVA/QRXpbmyYhgge6x/eWQ/kb84=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://ruoqi28.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://ruoqi28.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://ruoqi28.github.io/img/Q.gif><link rel=apple-touch-icon href=https://ruoqi28.github.io/img/Q.gif><link rel=mask-icon href=https://ruoqi28.github.io/img/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://ruoqi28.github.io/en/en/posts/mind/mindscape/13/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ma Shan Zheng"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Hind Siliguri"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.css><meta property="og:url" content="https://ruoqi28.github.io/en/en/posts/mind/mindscape/13/"><meta property="og:site_name" content="RD's Blog"><meta property="og:title" content="DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors"><meta property="og:description" content="Notes on 2014 ACS paper introducing DFGmodel, a computational approach to predict kinase inactive structures for type-II inhibitor discovery. Includes insights on DFG-flip and kinase conformational analysis."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="en"><meta property="article:published_time" content="2024-03-20T00:00:00+00:00"><meta property="article:modified_time" content="2024-03-20T00:00:00+00:00"><meta property="article:tag" content="Kinase"><meta property="article:tag" content="Model"><meta property="article:tag" content="Activation"><meta property="article:tag" content="Synthetic Biology"><meta property="article:tag" content="Structure"><meta name=twitter:card content="summary"><meta name=twitter:title content="DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors"><meta name=twitter:description content="Notes on 2014 ACS paper introducing DFGmodel, a computational approach to predict kinase inactive structures for type-II inhibitor discovery. Includes insights on DFG-flip and kinase conformational analysis."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Welcome to My Blog","item":"https://ruoqi28.github.io/en/en/"},{"@type":"ListItem","position":2,"name":"BLOG","item":"https://ruoqi28.github.io/en/en/posts/"},{"@type":"ListItem","position":3,"name":"MIND","item":"https://ruoqi28.github.io/en/en/posts/mind/"},{"@type":"ListItem","position":4,"name":"MINDSCAPE","item":"https://ruoqi28.github.io/en/en/posts/mind/mindscape/"},{"@type":"ListItem","position":5,"name":"DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors","item":"https://ruoqi28.github.io/en/en/posts/mind/mindscape/13/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors","name":"DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors","description":"Notes on 2014 ACS paper introducing DFGmodel, a computational approach to predict kinase inactive structures for type-II inhibitor discovery. Includes insights on DFG-flip and kinase conformational analysis.","keywords":["Kinase","Model","Activation","synthetic Biology","Structure"],"articleBody":"Keywords DFG, Kinase, Model, Structure-based Drug Design, Type-II Inhibitors, Vector\nReference DOI: 10.1021/cb500696t\nAbstract Protein kinases shift between active and inactive states, involving conformational changes in the aspartate-phenylalanine-glycine (DFG) motif, essential for their function.\nType-I inhibitors target the ATP-binding site in the active state, while type-II inhibitors exploit an allosteric pocket formed adjacent to the ATP site in the inactive DFG-out state.\nHowever, the lack of inactive kinase structures limits structure-based drug design for type-II inhibitors.\nThis paper presents DFGmodel, a computational tool that:\nGenerates inactive kinase models from either known active structures or sequences. Yields accurate models (RMSD ≤ 1.5 Å) validated through multiple structural metrics (Z-DOPE, TM-score). Distinguishes type-II inhibitors from non-binders (AUC \u003e 0.70), suitable for virtual screening. They also provide case studies where DFGmodel predicts off-target interactions and expands structural understanding for drug design.\nNotes 1. General Summary DFGmodel fills a critical gap by predicting kinase inactive (DFG-out) conformations, enabling structure-based type-II inhibitor discovery. Uses comprehensive analysis of kinase structures to inform model building. Applies to both existing active structures and kinase sequences lacking any structure. Achieves high accuracy, making it useful for virtual screening and understanding DFG-flip mechanics. 2. Structural and Modeling Insights DFG-flip involves a 180° flip of the Asp and Phe residues in the DFG motif. DFG-out state shows greater flexibility, especially in the N-lobe and αC-helix, while DFG-in is more compact. Interestingly, the β-hairpin preceding DFG remains structurally conserved in DFG-out conformations across kinases. The position of the DFG motif may be linked to A-loop conformation, but not necessarily controlling A-loop secondary structure. Gatekeeper and (D–1) residues do not significantly differ between kinases with and without known DFG-out structures, suggesting DFG-out accessibility may be an intrinsic property modulated by other factors (e.g., phosphorylation, binding partners). 3. Methodological Points Vector-based methods are used to characterize DFG orientation, but RD noticed: They used cross product to define vector relations but did not employ dot product, which could also be useful for angle measures. Something new and notable: Z-DOPE and TM-score are used alongside RMSD for structural evaluation — interesting metrics RD may explore further. 4. Application and Performance The models achieved RMSD ≤ 1.5 Å, demonstrating accuracy and structural relevance. Successfully distinguish type-II inhibitors from non-binders, with AUC \u003e 0.70 in virtual screening tests. Captures inhibitors’ off-target activities through modeling — useful for drug design and safety assessments. 5. RD’s Thoughts and Learnings RD finds the description of DFG-flip clear and useful. References 21 and 22 offer valuable background (worth checking). The vector approach focused only on DFG; rotation consideration was possibly missing — dot product might improve orientation analysis. RD also noted novel metrics (Z-DOPE, TM-score), could be worth integrating into RD’s own pipeline. The idea that DFG-out accessibility is intrinsic and widespread (not limited by specific residues) shifts perspective on kinase dynamics. RD is considering trying DFGmodel for ongoing kinase-related work. Take-home Messages DFGmodel is a powerful computational approach for predicting kinase inactive (DFG-out) structures, facilitating type-II inhibitor discovery. The DFG-flip mechanism is conserved and linked to broader kinase flexibility. Structural flexibility and dynamic pockets are essential features of kinases, relevant for allosteric drug design. Kinase modeling benefits from integrating multiple structural evaluation metrics beyond RMSD. Intrinsic kinase flexibility and DFG-out accessibility may be more widespread than previously thought, independent of specific residue patterns. ","wordCount":"552","inLanguage":"en","datePublished":"2024-03-20T00:00:00Z","dateModified":"2024-03-20T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://ruoqi28.github.io/en/en/posts/mind/mindscape/13/"},"publisher":{"@type":"Organization","name":"RD's Blog","logo":{"@type":"ImageObject","url":"https://ruoqi28.github.io/img/Q.gif"}}}</script><script type=text/javascript src></script><head><link rel=stylesheet href=/css/custom.css></head><link rel=icon type=image/png sizes=32x32 href=/img/rd4.png><link rel=icon type=image/png sizes=16x16 href=/img/rd4.png><link rel=apple-touch-icon href=/img/rd4.png><link rel="shortcut icon" href=/img/rd4.png></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ruoqi28.github.io/en/ accesskey=h title="RD's Blog (Alt + H)"><img src=https://ruoqi28.github.io/img/rd2.JPEG alt aria-label=logo height=35>RD's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://ruoqi28.github.io/zh/ title=中文(简体) aria-label=中文(简体)>中文(简体)</a></li></ul></div></div><ul id=menu><li><a href=https://ruoqi28.github.io/en/search title=" (Alt + /)" accesskey=/><span><i class="fa fa-search"></i></span></a></li><li><a href=https://ruoqi28.github.io/en/ title><span><i class="fa fa-home"></i></span></a></li><li><a href=https://ruoqi28.github.io/en/en/posts title=BLOGs><span>BLOGs</span></a></li><li><a href=https://ruoqi28.github.io/en/tags title=TAGs><span>TAGs</span></a></li><li><a href=https://ruoqi28.github.io/en/archives/ title=ARCHIVEs><span>ARCHIVEs</span></a></li><li><a href=https://ruoqi28.github.io/en/links title=LINKs><span>LINKs</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ruoqi28.github.io/en/>Home</a>&nbsp;»&nbsp;<a href=https://ruoqi28.github.io/en/en/posts/>BLOG</a></div><h1 class=post-title>DFGmodel: Predicting Protein Kinase Structure in Inactive States for Structure-based Discovery of Type-II Inhibitors</h1><div class=post-meta><i class="fa fa-calendar"></i>&nbsp;2024/03/20
&nbsp;|&nbsp;<i class="fa fa-clock"></i>&nbsp;3 min
&nbsp;|&nbsp;<i class="fa fa-tags"></i>&nbsp;
<a href=/en/tags/kinase>Kinase</a>,
<a href=/en/tags/model>Model</a>,
<a href=/en/tags/activation>Activation</a>,
<a href=/en/tags/synthetic-biology>synthetic Biology</a>,
<a href=/en/tags/structure>Structure</a>,</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#keywords aria-label=Keywords>Keywords</a></li><li><a href=#reference aria-label=Reference>Reference</a></li><li><a href=#abstract aria-label=Abstract>Abstract</a></li><li><a href=#notes aria-label=Notes>Notes</a><ul><li><a href=#1-general-summary aria-label="1. General Summary">1. General Summary</a></li><li><a href=#2-structural-and-modeling-insights aria-label="2. Structural and Modeling Insights">2. Structural and Modeling Insights</a></li><li><a href=#3-methodological-points aria-label="3. Methodological Points">3. Methodological Points</a></li><li><a href=#4-application-and-performance aria-label="4. Application and Performance">4. Application and Performance</a></li><li><a href=#5-rds-thoughts-and-learnings aria-label="5. RD&rsquo;s Thoughts and Learnings">5. RD&rsquo;s Thoughts and Learnings</a></li></ul></li><li><a href=#take-home-messages aria-label="Take-home Messages">Take-home Messages</a></li></ul></div></details></div><div class=post-content><h2 id=keywords>Keywords<a hidden class=anchor aria-hidden=true href=#keywords>#</a></h2><p>DFG, Kinase, Model, Structure-based Drug Design, Type-II Inhibitors, Vector</p><hr><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h2><p>DOI: <a href=https://pubmed.ncbi.nlm.nih.gov/25420233/>10.1021/cb500696t</a></p><hr><h2 id=abstract>Abstract<a hidden class=anchor aria-hidden=true href=#abstract>#</a></h2><p>Protein kinases shift between active and inactive states, involving conformational changes in the <strong>aspartate-phenylalanine-glycine (DFG) motif</strong>, essential for their function.<br>Type-I inhibitors target the ATP-binding site in the active state, while <strong>type-II inhibitors</strong> exploit an <strong>allosteric pocket</strong> formed adjacent to the ATP site in the <strong>inactive DFG-out state</strong>.<br>However, the <strong>lack of inactive kinase structures</strong> limits structure-based drug design for type-II inhibitors.</p><p>This paper presents <strong>DFGmodel</strong>, a computational tool that:</p><ul><li><strong>Generates inactive kinase models</strong> from either known active structures or sequences.</li><li>Yields <strong>accurate models (RMSD ≤ 1.5 Å)</strong> validated through multiple structural metrics (Z-DOPE, TM-score).</li><li>Distinguishes type-II inhibitors from non-binders (AUC > 0.70), suitable for virtual screening.</li></ul><p>They also provide <strong>case studies</strong> where DFGmodel predicts off-target interactions and expands structural understanding for drug design.</p><hr><h2 id=notes>Notes<a hidden class=anchor aria-hidden=true href=#notes>#</a></h2><h3 id=1-general-summary>1. General Summary<a hidden class=anchor aria-hidden=true href=#1-general-summary>#</a></h3><ul><li><strong>DFGmodel</strong> fills a critical gap by predicting <strong>kinase inactive (DFG-out) conformations</strong>, enabling <strong>structure-based type-II inhibitor discovery</strong>.</li><li>Uses <strong>comprehensive analysis of kinase structures</strong> to inform model building.</li><li>Applies to both <strong>existing active structures and kinase sequences lacking any structure</strong>.</li><li>Achieves <strong>high accuracy</strong>, making it useful for <strong>virtual screening</strong> and understanding <strong>DFG-flip mechanics</strong>.</li></ul><hr><h3 id=2-structural-and-modeling-insights>2. Structural and Modeling Insights<a hidden class=anchor aria-hidden=true href=#2-structural-and-modeling-insights>#</a></h3><ul><li><strong>DFG-flip</strong> involves a <strong>180° flip</strong> of the Asp and Phe residues in the DFG motif.</li><li><strong>DFG-out state</strong> shows <strong>greater flexibility</strong>, especially in the <strong>N-lobe</strong> and <strong>αC-helix</strong>, while DFG-in is more compact.</li><li>Interestingly, the <strong>β-hairpin preceding DFG remains structurally conserved</strong> in DFG-out conformations across kinases.</li><li>The <strong>position of the DFG motif</strong> may be linked to <strong>A-loop conformation</strong>, but not necessarily controlling A-loop secondary structure.</li><li><strong>Gatekeeper and (D–1) residues</strong> do <strong>not significantly differ</strong> between kinases with and without known DFG-out structures, suggesting <strong>DFG-out accessibility may be an intrinsic property</strong> modulated by other factors (e.g., phosphorylation, binding partners).</li></ul><hr><h3 id=3-methodological-points>3. Methodological Points<a hidden class=anchor aria-hidden=true href=#3-methodological-points>#</a></h3><ul><li><strong>Vector-based methods</strong> are used to characterize DFG orientation, but RD noticed:<ul><li>They used <strong>cross product</strong> to define vector relations but <strong>did not employ dot product</strong>, which could also be useful for angle measures.</li></ul></li><li>Something new and notable:<ul><li><strong>Z-DOPE</strong> and <strong>TM-score</strong> are used alongside <strong>RMSD</strong> for structural evaluation — interesting metrics RD may explore further.</li></ul></li></ul><hr><h3 id=4-application-and-performance>4. Application and Performance<a hidden class=anchor aria-hidden=true href=#4-application-and-performance>#</a></h3><ul><li>The models achieved <strong>RMSD ≤ 1.5 Å</strong>, demonstrating <strong>accuracy and structural relevance</strong>.</li><li>Successfully <strong>distinguish type-II inhibitors from non-binders</strong>, with <strong>AUC > 0.70</strong> in virtual screening tests.</li><li><strong>Captures inhibitors&rsquo; off-target activities</strong> through modeling — useful for drug design and safety assessments.</li></ul><hr><h3 id=5-rds-thoughts-and-learnings>5. RD&rsquo;s Thoughts and Learnings<a hidden class=anchor aria-hidden=true href=#5-rds-thoughts-and-learnings>#</a></h3><ul><li>RD finds the <strong>description of DFG-flip clear and useful</strong>.</li><li><strong>References 21 and 22</strong> offer valuable background (worth checking).</li><li>The <strong>vector approach</strong> focused only on DFG; <strong>rotation consideration</strong> was possibly missing — <strong>dot product</strong> might improve orientation analysis.</li><li>RD also noted <strong>novel metrics (Z-DOPE, TM-score)</strong>, could be worth integrating into RD’s own pipeline.</li><li>The idea that <strong>DFG-out accessibility is intrinsic and widespread</strong> (not limited by specific residues) shifts perspective on kinase dynamics.</li><li>RD is considering trying <strong>DFGmodel</strong> for ongoing kinase-related work.</li></ul><hr><h2 id=take-home-messages>Take-home Messages<a hidden class=anchor aria-hidden=true href=#take-home-messages>#</a></h2><ul><li><strong>DFGmodel</strong> is a <strong>powerful computational approach</strong> for predicting <strong>kinase inactive (DFG-out) structures</strong>, facilitating <strong>type-II inhibitor discovery</strong>.</li><li>The <strong>DFG-flip</strong> mechanism is conserved and linked to broader kinase flexibility.</li><li><strong>Structural flexibility and dynamic pockets</strong> are essential features of kinases, relevant for <strong>allosteric drug design</strong>.</li><li><strong>Kinase modeling</strong> benefits from <strong>integrating multiple structural evaluation metrics</strong> beyond RMSD.</li><li><strong>Intrinsic kinase flexibility</strong> and <strong>DFG-out accessibility</strong> may be more widespread than previously thought, independent of specific residue patterns.</li></ul><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://ruoqi28.github.io/en/tags/kinase/>Kinase</a></li><li><a href=https://ruoqi28.github.io/en/tags/model/>Model</a></li><li><a href=https://ruoqi28.github.io/en/tags/activation/>Activation</a></li><li><a href=https://ruoqi28.github.io/en/tags/synthetic-biology/>Synthetic Biology</a></li><li><a href=https://ruoqi28.github.io/en/tags/structure/>Structure</a></li></ul><nav class=paginav><a class=prev href=https://ruoqi28.github.io/en/en/posts/mind/mindscape/95/><span class=title>« Prev</span><br><span>Molecular Mechanism Underlying Ca²⁺/Calmodulin Dependent Protein Kinase Kinase (CaMKK) Signal Transduction</span>
</a><a class=next href=https://ruoqi28.github.io/en/en/posts/mind/mindscape/9/><span class=title>Next »</span><br><span>Regulation of Protein Kinases: Activation Segment Conformation and Functional Control</span></a></nav></footer><div class=post-comment></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://ruoqi28.github.io/en/>RD's Blog</a> 🌲🌴🌵🪻🎋🌷🌻🌵🐛🐸🫧🦩🐢 </span><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css><span id=busuanzi_container>Visitors: <span id=busuanzi_value_site_uv></span>
Views: <span id=busuanzi_value_site_pv></span></span></footer><!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title></title><style>*{margin:0;padding:0;box-sizing:border-box}body{height:100vh;background-color:(255,255,255)}canvas{position:fixed;top:0;left:0;z-index:-1}</style></head><body><canvas id=canvas></canvas>
<script type=text/javascript src=CanvasStar.js></script><script>window.addEventListener("load",()=>{var e,s,n=document.querySelector("#canvas"),t=n.getContext("2d");window.onresize=o;function o(){n.width=window.innerWidth,n.height=window.innerHeight}o(),n.style.cssText=`
    position: fixed;
    z-index: 1000;
    pointer-events: none;
    `,e=[],s=["#ffffff","#f2f2f2","#ffff00","#ff66cc","#66ffff","#00ffff","#3399ff","#cc99ff","#99ff00","#ff9900"],window.addEventListener("mousemove",t=>{e.push({x:t.clientX,y:t.clientY,r:Math.random()*.5+1.5,td:Math.random()*4-2,dx:Math.random()*2-1,dy:Math.random()*1+1,rot:Math.random()*90+90,color:s[Math.floor(Math.random()*s.length)]})});function i(e,n,s,o,i){t.beginPath();for(let a=0;a<5;a++)t.lineTo(Math.cos((18+a*72-i)*Math.PI/180)*s+e,-Math.sin((18+a*72-i)*Math.PI/180)*s+n),t.lineTo(Math.cos((54+a*72-i)*Math.PI/180)*o+e,-Math.sin((54+a*72-i)*Math.PI/180)*o+n);t.closePath()}function a(){for(let s=0;s<e.length;s++){let n=e[s];i(n.x,n.y,n.r,n.r*3,n.rot),t.fillStyle=n.color,t.strokeStyle=n.color,t.lineWidth=.1,t.lineJoin="round",t.fill(),t.stroke()}}function r(){for(let t=0;t<e.length;t++)e[t].x+=e[t].dx,e[t].y+=e[t].dy,e[t].rot+=e[t].td,e[t].r-=.015,e[t].r<0&&e.splice(t,1)}setInterval(()=>{t.clearRect(0,0,n.width,n.height),a(),r()},20)})</script></body></html><!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title></title><style>*{margin:0;padding:0;box-sizing:border-box}body{height:100vh;background-color:(255,255,255)}canvas{position:fixed;top:0;left:0;z-index:-1}</style></head><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Document</title><style>*{margin:0;padding:0;box-sizing:border-box}.kuang{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-10;background-image:transparent}.bubble{position:absolute;border-radius:50%;border:2px solid #fff;box-shadow:inset 0 0 8px #fff;animation:flutter 10s infinite;opacity:0}@keyframes flutter{0%{transform:translateX(0);bottom:-100px;opacity:1}50%{transform:translateX(100px);opacity:.5}100%{transform:translateX(0);bottom:100%;opacity:0}}.bubble:nth-child(1){left:-10%;width:50px;height:50px;animation-duration:9s;animation-delay:.1s}.bubble:nth-child(2){left:15%;width:20px;height:20px;animation-duration:6s;animation-delay:1.5s}.bubble:nth-child(3){left:20%;width:60px;height:60px;animation-duration:10s}.bubble:nth-child(4){left:30%;width:30px;height:30px;animation-duration:5.5s;animation-delay:1.5s}.bubble:nth-child(5){left:40%x;width:50px;height:50px;animation-duration:12s}.bubble:nth-child(6){left:50%;width:20px;height:20px;animation-duration:6s;animation-delay:1s}.bubble:nth-child(7){left:60%;width:40px;height:40px;animation-duration:8s;animation-delay:1s}.bubble:nth-child(8){left:65%;width:60px;height:60px;animation-duration:15s}.bubble:nth-child(9){left:80%;width:55px;height:55px;animation-duration:9s;animation-delay:.5s}.bubble:nth-child(10){left:100%;width:40px;height:40px;animation-duration:12s}</style></head><body><div class=kuang><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div><div class=bubble></div></div></body></html><!doctype html><html lang=zh><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>APlayer Demo</title>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css><script src=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js></script></head><body><div id=player1></div><script>document.addEventListener("DOMContentLoaded",function(){var e=new APlayer({container:document.getElementById("player1"),fixed:!0,autoplay:!1,mini:!0,theme:"#f8f4fc",loop:"all",order:"random",preload:"auto",volume:.5,mutex:!0,listFolded:!1,listMaxHeight:"90px",lrcType:0,audio:[{name:"Powder Snow",artist:"piano",url:"/music/whitealbum.mp3",cover:"/img/whitealbum.png"},{name:"Old Memory",artist:"三輪学",url:"/music/oldmemory.mp3",cover:"/img/oldmemory.png"},{name:"M5",artist:"三輪学",url:"/music/M5.mp3",cover:"/img/oldmemory.png"}]})})</script></body></html><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><span class=topInner style=display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px><svg class="topSvg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
<span id=read_progress style=font-size:10px;line-height:1;margin:0;padding:0></span>
</span></a><script>document.addEventListener("scroll",function(){const e=document.getElementById("read_progress"),t=document.documentElement.scrollHeight,n=document.documentElement.clientHeight,s=document.documentElement.scrollTop||document.body.scrollTop;e.innerText=((s/(t-n)).toFixed(2)*100).toFixed(0)})</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)})</script><script>document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href").substr(1),n=document.querySelector(`[id='${decodeURIComponent(t)}']`);if(!n)return;window.matchMedia("(prefers-reduced-motion: reduce)").matches?n.scrollIntoView():n.scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>const mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>200||document.documentElement.scrollTop>200?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.classList.contains("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="🍄copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",()=>{navigator.clipboard.writeText(e.textContent).then(s)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild===n||(e.closest("table")?e.closest("table").appendChild(t):e.parentNode.appendChild(t))})</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css><script>document.addEventListener("DOMContentLoaded",function(){let n=(new Date).getHours(),s=(new Date).getTimezoneOffset()/60,e=n-s;if(e>=13&&e<5){document.body.style.transform="scaleX(-1)",document.body.style.transition="all 2s ease-in-out",localStorage.getItem("timeRiftAlert")||(alert("⚠ You have entered the TIME RIFT… Reality is shifting!"),localStorage.setItem("timeRiftAlert","true"));let e=document.createElement("div");e.id="reverseClock",e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.background="black",e.style.color="white",e.style.padding="10px",e.style.fontSize="20px",e.style.fontFamily="monospace",e.style.borderRadius="5px",document.body.appendChild(e);let n=new Date;function o(){n.setSeconds(n.getSeconds()-1),e.innerText="⏳ "+n.toLocaleTimeString()}setInterval(o,1e3);function t(e){e.childNodes.length===1&&e.childNodes[0].nodeType===3?e.innerText=e.innerText.split("").reverse().join(""):e.childNodes.forEach(t)}document.querySelectorAll("h1, h2, h3, p, a, span").forEach(t)}else localStorage.removeItem("timeRiftAlert")})</script><div id=customToast class=toast></div><script>document.addEventListener("DOMContentLoaded",function(){let e=0,s=300,n=["⏳ You've been here for 5 minutes. Time to stretch a little?","☕ Maybe it's time for a coffee break!","📖 Read something new? Or keep scrolling?","🎮 Don't you have a game waiting to be played?","🔄 Are you expecting an Easter egg?","🌍 The world outside is just as exciting!","⌛ Still doing okay?","🤔 What are you thinking about?","🚀 Maybe it's time to work on your next big idea!"];function o(e){let t=document.getElementById("customToast");t.innerText=e,t.classList.add("show"),setTimeout(()=>{t.classList.remove("show")},5e3)}setInterval(()=>{if(e++,e===s){let e=n[Math.floor(Math.random()*n.length)];o(e)}},1e3);function t(){e=0}document.addEventListener("mousemove",t),document.addEventListener("keypress",t),document.addEventListener("click",t)})</script><style>.toast{visibility:hidden;min-width:250px;background-color:rgba(0,0,0,.8);color:#fff;text-align:center;padding:12px;position:fixed;bottom:30px;left:50%;transform:translateX(-50%);border-radius:8px;font-size:14px;box-shadow:0 4px 8px rgba(0,0,0,.2);opacity:0;transition:opacity .5s,visibility .5s}.toast.show{visibility:visible;opacity:1}</style><script type=module src=https://unpkg.com/@google/model-viewer></script><div id=flower-container style=position:absolute;top:15px;left:330px><button onclick=toggleFlowerViewer()>⋆✴︎˚｡⋆</button></div><div id=flower-fullscreen style=display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;z-index:9999><model-viewer id=flower-model src=/models/space_boi.glb //非常重要！！！！flower.glb alt="3D Flower" auto-rotate camera-controls ar shadow-intensity=1 style="width: 230vw; height: 230vh; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></model-viewer></div><script>let isDragging=!1,hasDragged=!1;function toggleFlowerViewer(){let t=document.getElementById("flower-fullscreen"),e=document.getElementById("flower-model");t.style.display==="none"?(t.style.display="block",hasDragged=!1,e.loaded?forceAutoRotate(e):e.addEventListener("load",()=>{forceAutoRotate(e)},{once:!0})):t.style.display="none"}function forceAutoRotate(e){e.removeAttribute("auto-rotate"),setTimeout(()=>e.setAttribute("auto-rotate",""),50)}let modelViewer=document.getElementById("flower-model"),fullscreenDiv=document.getElementById("flower-fullscreen");modelViewer.addEventListener("pointerdown",()=>{isDragging=!0,hasDragged=!1}),modelViewer.addEventListener("pointermove",()=>{isDragging&&(hasDragged=!0)}),modelViewer.addEventListener("pointerup",()=>{isDragging=!1}),fullscreenDiv.addEventListener("click",function(){hasDragged||(this.style.display="none"),hasDragged=!1})</script><style>body{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}</style><script>document.addEventListener("contextmenu",function(e){e.preventDefault()}),document.addEventListener("copy",function(e){e.preventDefault()}),document.addEventListener("cut",function(e){e.preventDefault()}),document.addEventListener("selectstart",function(e){e.preventDefault()}),document.addEventListener("dragstart",function(e){e.preventDefault()})</script><a href=/en/traces/ class=breathing-flower title="Click to breathe ✧"><img src=/img/breathdot.png alt="breathing dot"></a><style>.breathing-flower{position:absolute;top:1rem;left:25rem;width:36px;height:36px;z-index:999;pointer-events:auto;display:block;transition:transform .5s ease}.breathing-flower img{width:100%;height:100%;animation:flowerBreathing 2.8s ease-in-out infinite;filter:drop-shadow(0 0 4px rgba(255,220,120,.3));transition:filter .3s ease,transform .4s ease;border-radius:50%}.breathing-flower:hover{transform:translateY(-4px)translateX(3px)}.breathing-flower:hover img{filter:drop-shadow(0 0 10px rgba(255,220,120,.6));transform:scale(1.1)}@keyframes flowerBreathing{0%,100%{transform:scale(1);opacity:.75}50%{transform:scale(1.15);opacity:1}}.breathing-flower::after,.breathing-flower::before{content:'';position:absolute;top:40%;left:40%;width:6px;height:6px;background:rgba(255,235,150,.8);border-radius:50%;opacity:0;pointer-events:none}.breathing-flower:hover::after{animation:pollen1 1.2s ease-out forwards}.breathing-flower:hover::before{animation:pollen2 1.5s ease-out forwards}@keyframes pollen1{0%{transform:translate(0,0);opacity:1}100%{transform:translate(-20px,-30px)scale(.6);opacity:0}}@keyframes pollen2{0%{transform:translate(0,0);opacity:1}100%{transform:translate(18px,-25px)scale(.6);opacity:0}}</style><style>button,.btn,.button,.blog-button{transition:all .3s ease}button:hover,.btn:hover,.button:hover,.blog-button:hover{transform:scale(1.015);box-shadow:0 0 6px rgba(180,180,200,.15)}</style><style>.social-icons a{display:inline-block;margin:0 .5rem;opacity:.3;transform:scale(1);transition:all .3s ease;filter:brightness(1.6)grayscale(100%)}.social-icons a:hover{opacity:1;transform:scale(1.12);filter:brightness(1)grayscale(0)}@keyframes fadeInOut{0%{opacity:0;transform:translateY(10px)}20%{opacity:1;transform:translateY(0)}80%{opacity:1}100%{opacity:0}}.fade-onload{opacity:0;pointer-events:none;transition:opacity .3s ease,transform .3s ease;animation:fadeInOut 4s ease-in-out .5s forwards}.fade-container:hover .fade-onload,.fade-onload:hover{opacity:1!important;pointer-events:auto;transform:scale(1.05);animation:none!important}</style><div class=pio-container id=pio-container><canvas id=pio></canvas></div><style>.pio-container{position:fixed!important;bottom:0!important;right:0!important;z-index:9999!important;pointer-events:none!important}#pio{position:relative!important;width:auto!important;height:auto!important;max-height:100vh!important;max-width:100vw!important;transform:scale(.35)translate(13%,5%)!important;transform-origin:bottom right!important;pointer-events:none!important;display:block!important;z-index:9999!important}</style><script src=/live2d/jiaran/TweenLite.js></script><script src=/live2d/jiaran/live2dcubismcore.min.js></script><script src=/live2d/jiaran/pixi.min.js></script><script src=/live2d/jiaran/cubism4.min.js></script><script src=/live2d/jiaran/pio.js></script><script src=/live2d/jiaran/pio_sdk4.js></script><link href=/live2d/jiaran/pio.css rel=stylesheet type=text/css><script>window.onload=function(){const e={mode:"fixed",hidden:!1,tips:!1,model:["/live2d/jiaran/Diana/Diana.model3.json"],content:{},night:"",onModelLoad:function(){console.log("嘉然加载完成~")}};window.pio_reference=new Paul_Pio(e)}</script><style>.footprint{position:fixed;font-size:1.2rem;pointer-events:none;opacity:.8;transform:translate(-50%,-50%);transition:opacity 2s ease-out;z-index:9999;line-height:1}.footprint.fade{opacity:0}</style><script>document.addEventListener("DOMContentLoaded",function(){let e=0;const t=150;function n(){return document.body.classList.contains("dark")}document.addEventListener("mousemove",s=>{const i=Date.now();if(i-e<t)return;e=i;const o=document.createElement("div");o.textContent="🐾",o.className="footprint",o.style.left=`${s.clientX}px`,o.style.top=`${s.clientY}px`,o.style.color=n()?"rgba(180, 220, 255, 0.85)":"rgba(0, 0, 0, 0.4)",document.body.appendChild(o),requestAnimationFrame(()=>o.classList.add("fade")),setTimeout(()=>o.remove(),2e3)})})</script><script>(function(){let e=!1;const t=160,o=document.body.innerHTML;function s(){return window.outerWidth-window.innerWidth>t||window.outerHeight-window.innerHeight>t}function n(){e||(e=!0,document.body.innerHTML=`
        <div style="
          height: 100vh;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          background: #f9f9f9;
          color: #555;
          font-family: 'Georgia', serif;
          font-size: 1.2rem;
          line-height: 1.8;
          text-align: center;
          padding: 2em;
          transition: all 0.4s ease;
        ">
          <div style="max-width: 600px;">
            <p style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1em;">
              nonono, it’s TOO MUCH.
            </p>
            <p>
              so I crashed.<br/>
              probably reload the page ･◡･.
            </p>
            <p style="margin-top: 2em; font-size: 0.95rem; color: #999;">
              (you opened the dev tools. little things noticed  '༥' .)
            </p>
          </div>
        </div>`,console.warn("👀 DevTools opened — simulated crash triggered."))}setInterval(()=>{const e=new Image;Object.defineProperty(e,"id",{get:function(){n()}}),console.log("%c",e),s()&&n()},1e3)})()</script><script>(function(){let e;const n=3e5;function s(){window.location.href="/html/sakurarain.html"}function t(){clearTimeout(e),e=setTimeout(s,n)}t(),["mousemove","mousedown","keydown","scroll","touchstart"].forEach(e=>window.addEventListener(e,t))})()</script></body></html>